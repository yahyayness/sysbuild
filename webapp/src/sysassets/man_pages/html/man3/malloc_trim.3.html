<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MALLOC_TRIM</TITLE>
</HEAD><BODY>
<H1>MALLOC_TRIM</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 2014-05-28<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

malloc_trim - release free memory from the top of the heap
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#include &lt;<A HREF="file:///usr/include/malloc.h">malloc.h</A>&gt;</B>

<P>
<B>int malloc_trim(size_t </B><I>pad</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The
<B>malloc_trim</B>()

function attempts to release free memory at the top of the heap
(by calling
<B><A HREF="../man2/sbrk.2.html">sbrk</A></B>(2)

with a suitable argument).
<P>
The
<I>pad</I>

argument specifies the amount of free space to leave untrimmed
at the top of the heap.
If this argument is 0, only the minimum amount of memory is maintained
at the top of the heap (i.e., one page or less).
A nonzero argument can be used to maintain some trailing space
at the top of the heap in order to allow future allocations
to be made without having to extend the heap with
<B><A HREF="../man2/sbrk.2.html">sbrk</A></B>(2).

<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

The
<B>malloc_trim</B>()

function returns 1 if memory was actually released back to the system,
or 0 if it was not possible to release any memory.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

No errors are defined.


<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMING TO</H2>

This function is a GNU extension.
<A NAME="lbAH">&nbsp;</A>
<H2>NOTES</H2>

This function is automatically called by
<B><A HREF="../man3/free.3.html">free</A></B>(3)

in certain circumstances; see the discussion of
<B>M_TOP_PAD</B>

and
<B>M_TRIM_THRESHOLD</B>

in
<B><A HREF="../man3/mallopt.3.html">mallopt</A></B>(3).

<P>
This function cannot release free memory located at places
other than the top of the heap.
<P>
This function releases only memory in the main arena.


<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man2/sbrk.2.html">sbrk</A></B>(2),

<B><A HREF="../man3/malloc.3.html">malloc</A></B>(3),

<B><A HREF="../man3/mallopt.3.html">mallopt</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">CONFORMING TO</A><DD>
<DT><A HREF="#lbAH">NOTES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:55:03 GMT, September 18, 2014
</BODY>
</HTML>
